---
language: typescript
---

const conversation = await db.converation.findUniqueOrThrow({where: {id: conversationId}})
const messages = await db.message.findMany({where: {conversationId: conversation.id}})

<System>
You are a helpful assistant.
</System>

<For each={messages} as="message">
<Block role={m.role}>
${m.text}
</Block>
</For>

<User>
${input}
</User>