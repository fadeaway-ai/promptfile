# What are Blocks?

Blocks in Glass simplify LLM requests, making them easy to read, understand and add complexity. They prevent common mistakes and give more power to create complicated interactions with the LLM.

## Types of Blocks

### User

Use the `<User>{:glass}` to designate the text coming from a human user.

- **name** <i>(optional string)</i> <br/> Assigns a name to the user.
- **if** <i>(optional condition)</i> <br/> Includes the block in the request only if the condition is met.
- **once** <i>(optional boolean)</i> <br/> If set to `true`, the block will only be included once in the request, even if the condition is met multiple times.
- **transcript** <i>(optional boolean)</i> <br/> If set to `true`, the block will be added to the `<Transcript>{:glass}` block.

```glass
const conditionIsMet = true

<User name="Shreyas" if={conditionIsMet}>
Hello AI!
</User>

<Request model="gpt-3.5-turbo" />
```

### System

Use the `<System>{:glass}` block to designate instructions to the LLM.

For Anthropic models, the `<System>{:glass}` block has the same effect `<User>{:glass}`.

- **if** <i>(optional condition)</i> <br/> Allows you to conditionally include the block.

```glass
const conditionIsMet = false
<System if={conditionIsMet}>
This will not be included in the prompt :(
</System>
```

### Assistant

Use the `<Assistant>{:glass}` to designate the text coming from the model.

- **name** <i>(optional string)</i> <br/> Assigns a name to the assistant.
- **if** <i>(optional condition)</i> <br/> Includes the block in the request only if the condition is met.
- **model** <i>(optional enum)</i> <br/> This is an automatically generated condition that is visible in the editor. It is used to track the model that generated the block.
- **once** <i>(optional boolean)</i> <br/> If set to `true`, the block will only be included once in the request, even if the condition is met multiple times.
- **transcript** <i>(optional boolean)</i> <br/> If set to `true`, the block will be added to the running `<Transcript>{:glass}` block.

```glass
const name = "GPT-3.5"
const conditionIsMet = true

<Assistant name={name} if={conditionIsMet}>
Hello human!
</Assistant>
```

### Request

Use the `<Request />{:glass}` block to make an API request to a specified model, using all previous `<System>{:glass}`, `<User>{:glass}`, and `<Assistant>{:glass}` blocks as input.

- **model** <i>(required)</i> <br/> The name of the model to inference. Defaults to `gpt-3.5-turbo`
- **temperature** <i>(optional)</i> <br/> The temperance of the inference to the model.
- **max_tokens** <i>(optional)</i> <br/> The maximum number of tokens to generate.
- **onResponse** <i>(optional)</i> <br/> Function callback for when the response is received.

```glass
<Request model="gpt-4" maxTokens={50} temperature={0.05} />
```

### For

Use the `<For>{:glass}` block to loop over elements in an array. The text inside the `<For>{:glass}` block will be repeated for each item in the array.

- **each** <i>(required)</i> <br/> The array to iterate over.
- **as** <i>(required)</i><br/> The variable name for each item in the array. Use this variable within the `<For>{:glass}`

```glass
const examples = [{
  request: "Happy",
  response: "Sad",
}, {
  request: "Hot",
  response: "Cold",
}, {
  request: "Tall",
  response: "Short",
}]
const request = "Sunny"

<For each={examples} as="ex">
<User>
${ex.request}
</User>

<Assistant>
${ex.response}
</Assistant>
</For>

<User>
${request}
</User>

<Request model="gpt-3.5-turbo" />
```

### Text

Use the `<Text>{:glass}` to add text inside another block. This is useful for adding text if a condition is met.

- **if** <i>(optional)</i> <br/> Includes the block in the request only if the condition is met.

```glass
const conditionIsMet = true

<User>
<Text if={conditionIsMet}>
Hello AI!
</Text>
</User>

<Request model="gpt-3.5-turbo" />
```

### Test

Use `<Test>{:glass}` to define test data to use when running the file.

```glass
<Test>
return [{input: "test input 1"}, {input: "test input 2"}]
</Test>

// input would usually be passed into the prompt as an argument, but Glass will use the test data instead when no arguments are provided
<User>
${input}
</User>

<Request model="gpt-3.5-turbo" />
```

### Block

Use `<Block>{:glass}` as a generic version of `<System>{:glass}`, `<User>{:glass}`, and `<Assistant>{:glass}`.

- **role** <i>(required)</i> <br/> The type of block. Can be `user`, `assistant`, or `system`.

- **if** <i>(optional)</i> <br/> Allows you to conditionally include the block.

## State

This is an automatically generated block that is used to track the state of the conversation. You should not modify this block.

## Transcript

This is an automatically generated block that is used to track the history of the conversation. You should not modify this block.
