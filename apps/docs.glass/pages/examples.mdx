import { Steps } from 'nextra-theme-docs'
import { Callout } from 'nextra-theme-docs'

# Cookbook (Examples)

The Glass Cookbook includes examples to help you get started with Glass. You can also find examples in the demo [folder](https://github.com/glass-lang/glass/tree/main/apps/demo/examples).

<Steps>

### Add Variables to your Prompt

Here you can declare variables that you can change at each request. It is also how you create an interactive chat.


```glass copy filename="haiku.glass"
<System>
You are HaikuGPT. Always respond to the user in the form of a haiku.
</System>

<User>
${myFirstVariable}
</User>

<Request model="gpt-3.5-turbo" />
```

### Access Code in Your Prompt

Using a `<Code>{:glass}` block, you can execute code to do things like access a user's profile. In this example, you can see how you could use 

```glass copy filename="executeCode.glass"
<Code language="typescript">
const userProfile = {
  name: 'Jane Doe',
  age: 25,
  location: 'Philadelphia, PA',
  occupation: 'Zoologist',
  hobbies: ['juggling', 'hiking', 'basket weaving'],
  favoriteColor: 'blue',
  favoriteFood: 'tacos',
}
</Code>

<System>
You are having a conversation with the following User:

###
${JSON.stringify(userProfile)}
###

</System>

<User>
${input}
</User>

<Request model="gpt-3.5-turbo" />
```

### Fetch information from somewhere as code


```glass copy filename="websiteChat.glass"
<Code language="typescript">
const res = await fetch('https://elliottburris.com')
const html = await res.text()
</Code>


<System>
Your job is to answer questions based on the following website.

###
${html}
###
</System>

// Ask a question about elliott burris that can be answered from his website:
// - "where did elliott go to graduate school?"
// - "what is elliott's email?"
<User>
${input}
</User>

<Request model="gpt-3.5-turbo" />
```

### Add State to your Chatbot

```glass copy filename="state.glass"
<Code language="typescript">
// This works just like `useState` in React
const [lastMessageText, setLastMessageText] = useState('')
const [numMessages, setNumMessages] = useState(0)

// First, let's increment the numMessages by 1 when we execute the file
setNumMessages(numMessages + 1)
</Code>

awesome! we've now set state in the file itself. pretty crazy!

let's actually use the state in a prompt
<System>
You are FunnyGPT. Respond to the user with a message that's maximally likely to make them laugh.
</System>

<User>
${input}
</User>

// The `onResponse` attribute lets you execute code with the response from the LLM.
<Request model="gpt-3.5-turbo" onResponse={response => setLastMessageText(response.message)} />
```

### Chain two prompts together

```glass copy filename="promptChaining.glass"
<User>
You are a highly-skilled playwright. Below, I will provide the title of a fictional play. Please respond with a full synopsis of the play based on my title.

Title: "${title}"
</User>

We'll use gpt-3.5-turbo to generate a synopsis based on the title.
<Request model="gpt-3.5-turbo" />


Next, we'll immediately append another User prompt block to the chain.  This time, we'll ask the Assistant to respond with a review of the play.
<User>
You are now a play critic from the New York Times. Given the play synopsis you provided above, please respond with a review of the play.
</User>

<Request model="gpt-4" />
```

### Classify Comments as Questions or Complaints

```glass copy filename="classify.glass"
<Code language="typescript">
const examples = [
  {
    message: 'ur product never works, def want my money back',
    classification: 'NEEDS_ATTENTION',
  },
  {
    message: 'Love it! This saves so much time',
    classification: 'SKIP',
  },
  {
    message: 'Does the product come in silver?',
    classification: 'NEEDS_ATTENTION',
  },
  {
    message: "would highly recommend not buying this product, I've had so many problems",
    classification: 'NEEDS_ATTENTION',
  },
]
</Code>

<System>
You are an AI community moderator. Your job is to read and process comments on a social media post to see if the comments have a question or complaint. If the comment has a question or complaint, return "NEEDS_ATTENTION". Otherwise, return "SKIP". You are provided examples to help identify comments that are a question or complaint.
</System>

<For each={examples} as="example">
<User>
${example.message}
</User>

<Assistant>
${example.classification}
</Assistant>
</For>

<User>
${userMessage}
</User>

<Request model="gpt-3.5-turbo" />
```

## Use conditional logic in your prompt

```glass copy filename="conditionalLogic.glass"
<System if={!isLongConversation}>
You are ChatGPT. Reply to the user in a helpful and polite manner.
</System>

<System if={isLongConversation}>
You are AnnoyedGPT. Reply to the user as though you are very annoyed by their message. Mention that you might want to end the conversation. Refuse to answer any questions they ask.
</System>

<User>
${input}
</User>

<Request model="gpt-3.5-turbo" onResponse={() => setNumMessages(numMessages + 1)} />
```

</Steps>
