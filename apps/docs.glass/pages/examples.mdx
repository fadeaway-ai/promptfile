# Example Library

## Haiku Chatbot

```glass copy filename="example.glass"
<System>
You are HaikuGPT. Always respond to the user in the form of a haiku.
</System>

...but let's use a variable for the User's input!
<User>
${myFirstVariable}
</User>

Remember, cmd+enter on Mac / ctrl+enter on Windows to run in the Playground!
<Request model="gpt-3.5-turbo" />
```

## Chain two prompts together

```glass copy filename="example.glass"
<User>
You are a highly-skilled playwright. Below, I will provide the title of a fictional play. Please respond with a full synopsis of the play based on my title.

Title: "${title}"
</User>

We'll use gpt-3.5-turbo to generate a synopsis based on the title.
<Request model="gpt-3.5-turbo" />


Next, we'll immediately append another User prompt block to the chain.  This time, we'll ask the Assistant to respond with a review of the play.
<User>
You are now a play critic from the New York Times. Given the play synopsis you provided above, please respond with a review of the play.
</User>

<Request model="gpt-4" />
```

## Chatbot with a user with a user profile

```glass copy filename="example.glass"
<Code language="typescript">
const userProfile = {
  name: 'Jane Doe',
  age: 25,
  location: 'New York, NY',
  occupation: 'Software Engineer',
  hobbies: ['reading', 'hiking', 'cooking'],
  favoriteColor: 'blue',
  favoriteFood: 'pizza',
}
</Code>

now, use the response in code:
<System>
You are having a conversation with the following User:

###
${JSON.stringify(userProfile)}
###

Only answer questions from the User based on the information above. Do not engage in conversations that are not related to the User's profile.
</System>

<User>
${input}
</User>

<Request model="gpt-3.5-turbo" />
```

## Classify Comments as Questions or Complaints

```glass copy filename="example.glass"
<Code language="typescript">
const examples = [
  {
    message: 'ur product never works, def want my money back',
    classification: 'NEEDS_ATTENTION',
  },
  {
    message: 'Love it! This saves so much time',
    classification: 'SKIP',
  },
  {
    message: 'Does the product come in silver?',
    classification: 'NEEDS_ATTENTION',
  },
  {
    message: "would highly recommend not buying this product, I've had so many problems",
    classification: 'NEEDS_ATTENTION',
  },
]
</Code>

<System>
You are an AI community moderator. Your job is to read and process comments on a social media post to see if the comments have a question or complaint. If the comment has a question or complaint, return "NEEDS_ATTENTION". Otherwise, return "SKIP". You are provided examples to help identify comments that are a question or complaint.
</System>

<For each={examples} as="example">
<User>
${example.message}
</User>

<Assistant>
${example.classification}
</Assistant>
</For>

<User>
${userMessage}
</User>

<Request model="gpt-3.5-turbo" />
```

## Chat with a website!

```glass copy filename="example.glass"
Be sure to `await` any async calls!
<Code language="typescript">
const res = await fetch('https://elliottburris.com')
const html = await res.text()
</Code>

now we can use `html` in our prompt!
<System>
Your job is to answer questions based on the following website.

###
${html}
###
</System>

// Ask a question about elliott burris that can be answered from his website:
// - "where did elliott go to graduate school?"
// - "what is elliott's email?"
<User>
${input}
</User>

<Request model="gpt-3.5-turbo" />
```

## Add State to your Chatbot

```glass copy filename="example.glass"
<Code language="typescript">
// This works just like `useState` in React
const [lastMessageText, setLastMessageText] = useState('')
const [numMessages, setNumMessages] = useState(0)

// First, let's increment the numMessages by 1 when we execute the file
setNumMessages(numMessages + 1)
</Code>

awesome! we've now set state in the file itself. pretty crazy!

let's actually use the state in a prompt
<System>
You are FunnyGPT. Respond to the user with a message that's maximally likely to make them laugh.
</System>

<User>
${input}
</User>

// The `onResponse` attribute lets you execute code with the response from the LLM.
<Request model="gpt-3.5-turbo" onResponse={response => setLastMessageText(response.message)} />
```

## Use conditional logic in your prompt

```glass copy filename="example.glass"
<System if={!isLongConversation}>
You are ChatGPT. Reply to the user in a helpful and polite manner.
</System>

<System if={isLongConversation}>
You are AnnoyedGPT. Reply to the user as though you are very annoyed by their message. Mention that you might want to end the conversation. Refuse to answer any questions they ask.
</System>

<User>
${input}
</User>

<Request model="gpt-3.5-turbo" onResponse={() => setNumMessages(numMessages + 1)} />
```
